<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday ‚Äî For My Love</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&family=Great+Vibes&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1: #fffaf6; /* cream */
      --pink: #ffcad4;
      --lav: #e9d6ff;
      --baby: #d9f0ff;
      --accent: #ffd1e6;
      --text: #3b2f33;
      --soft-shadow: 0 8px 30px rgba(59,47,51,0.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Poppins,system-ui,Segoe UI,Arial;color:var(--text);background:linear-gradient(180deg,var(--bg1),#fff);}
    .page{min-height:100vh;display:flex;flex-direction:column;align-items:center}

    /* Header / Hero */
    header{width:100%;padding:40px 20px 10px;display:flex;justify-content:center;align-items:center;position:relative;overflow:hidden}
    .hero-card{width:min(1100px,96%);background:linear-gradient(180deg,rgba(255,255,255,0.8),rgba(255,255,255,0.6));border-radius:22px;padding:28px;box-shadow:var(--soft-shadow);position:relative}
    .big-title{font-family:'Dancing Script', 'Great Vibes', cursive;font-size:clamp(36px,6vw,84px);text-align:center;margin:0;color:#ff6b9a;letter-spacing:2px;text-shadow:0 6px 24px rgba(255,107,154,0.08);}
    .subtitle{font-size:18px;text-align:center;margin:8px 0 18px;color:rgba(59,47,51,0.8)}
    /* floating heart layer */
    .floating-layer{pointer-events:none;position:absolute;inset:0;z-index:2}
    .heart{position:absolute;opacity:0.95;width:34px;height:34px;background:linear-gradient(135deg,var(--pink),#ff9ab7);transform:rotate(45deg);border-radius:6px;box-shadow:0 8px 20px rgba(255,154,174,0.25);}
    .heart:before,.heart:after{content:'';position:absolute;background:inherit;border-radius:50%;width:34px;height:34px}
    .heart:before{top:-17px;left:0}
    .heart:after{left:17px;top:0}

#videoModal {
  position: fixed;
  display: none;
  justify-content: center;
  align-items: center;
  background: rgba(0, 0, 0, 0.6);
  width: 330px;
  height: 580px;
  border-radius: 12px;
  box-shadow: 0 0 30px rgba(0,0,0,0.5);
  z-index: 9999;
  /* remove top, left, right, bottom here */
}




#surpriseVideo {
  width: 300px;
  height: 500px;
  border-radius: 12px;
  object-fit: fill; /* fills area while preserving aspect ratio */
}


    /* confetti canvas fill */
    #confetti{position:absolute;inset:0;pointer-events:none;z-index:3}

    /* hero inner layout */
    .hero-inner{display:flex;gap:20px;align-items:center;justify-content:space-between;flex-wrap:wrap}
    .hero-left{flex:1;min-width:260px}
    .hero-right{width:360px;max-width:42%;min-width:240px}
    .calligraphy-name{font-family:'Great Vibes',cursive;font-size:clamp(28px,5vw,48px);color:#b3447a;margin:6px 0}
    .message{background:linear-gradient(180deg,rgba(255,255,255,0.6),transparent);padding:14px;border-radius:12px;font-size:16px;line-height:1.4}

    /* photo frame */
    .photo-frame{border-radius:16px;padding:8px;background:linear-gradient(180deg,#fff,#fff0);box-shadow:0 10px 30px rgba(20,18,20,0.06);overflow:hidden;position:relative}
    .photo-frame img{display:block;width:100%;height:320px;object-fit:cover;border-radius:10px}
    .photo-controls{display:flex;gap:8px;justify-content:center;margin-top:10px}
    .small-btn{background:#fff;border:1px solid rgba(27,24,24,0.06);padding:8px 12px;border-radius:10px;cursor:pointer}

    /* timeline */
    section.timeline{width:100%;padding-top: 20px;}
    .timeline-wrap{width:min(1100px,96%);margin:0 auto}
    .timeline-title{font-size:22px;margin-bottom:6px}
    .timeline-list{display:flex;flex-direction:column;gap:10px}
    .event{display:flex;gap:14px;align-items:flex-start;background:linear-gradient(180deg,rgba(255,255,255,0.7),transparent);padding:12px;border-radius:12px}
    .event .icon{width:56px;height:56px;border-radius:12px;background:linear-gradient(180deg,var(--lav),var(--pink));display:flex;align-items:center;justify-content:center;font-size:26px}
    .event .body{flex:1}
    .event .date{font-size:13px;color:rgba(59,47,51,0.6)}

    /* reasons carousel */
    section.reasons{width:100%;}
    .reasons-grid{display:flex;gap:18px;flex-wrap:wrap;justify-content:center}
    .card{width:220px;height:280px;background:linear-gradient(180deg,#fff,rgba(255,255,255,0.9));border-radius:14px;box-shadow:var(--soft-shadow);perspective:1200px;position:relative}
    .card-inner{width:100%;height:100%;border-radius:14px;transform-style:preserve-3d;transition:transform 600ms cubic-bezier(.2,.9,.3,1)}
    .card:hover .card-inner{transform:rotateY(180deg)}
    .card-front,.card-back{position:absolute;inset:0;backface-visibility:hidden;border-radius:14px;padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center}
    .card-back{transform:rotateY(180deg);background:linear-gradient(180deg,var(--baby),#fff)}
    .card-illustr{font-size:42px;margin-bottom:8px}
    .reason-text{font-size:15px;text-align:center}

    /* secret modal */
    .modal{position:fixed;inset:0;background:rgba(10,10,10,0.45);display:flex;align-items:center;justify-content:center;z-index:50;opacity:0;pointer-events:none;transition:opacity 240ms}
    .modal.open{opacity:1;pointer-events:auto}
    .modal .sheet{background:#fff;border-radius:14px;padding:22px;max-width:680px;width:94%;box-shadow:0 20px 60px rgba(6,6,6,0.12)}

    /* gift box */
    .gift{width:160px;height:140px;border-radius:12px;background:linear-gradient(180deg,#ffdbe8,#fff);display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}
    .ribbon{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;}
    .ribbon::before{content:'';position:absolute;width:70%;height:18px;background:#ff8fb1;border-radius:6px}
    .lid{position:absolute;top:0;left:0;right:0;height:46px;border-top-left-radius:12px;border-top-right-radius:12px;background:#ff9ab7;transform-origin:center;transition:transform 600ms cubic-bezier(.2,.9,.3,1)}
    .gift.open .lid{transform:translateY(-36px) rotateX(18deg)}
    .surprise{position:absolute;bottom:14px;font-size:14px;opacity:0;transform:translateY(12px);transition:all 420ms}
    .gift.open .surprise{opacity:1;transform:translateY(0)}

    /* countdown */
    .countdown{display:flex;gap:10px;align-items:center;justify-content:center;margin-top:10px}
    .cd-block{background:linear-gradient(180deg,#fff,#fff0);padding:12px;border-radius:10px;min-width:64px;text-align:center}

    /* floating stickers */
    .sticker{position:fixed;z-index:1;opacity:0.9;pointer-events:none}

    /* draw canvas */
    .draw-area{border-radius:12px;background:linear-gradient(180deg,#fff,#fff0);padding:12px}
    canvas#doodle{border-radius:10px;background:linear-gradient(180deg,#fff,#fff)}

    /* footer */
    footer{width:100%;padding:36px 20px 60px}
    .final-card{width:min(1100px,96%);margin:0 auto;text-align:center;padding:18px;border-radius:16px;background:linear-gradient(180deg,#fff,#fff0);box-shadow:var(--soft-shadow)}

    /* responsive */
    @media (max-width:880px){
      .hero-right{width:100%;max-width:none}
      .hero-left{width:100%}
      .photo-frame img{height:220px}
      .card{width:46%}
    }
    @media (max-width:480px){
      .card{width:100%}
      
    }

    /* Make hero layout stack vertically on small screens */
@media (max-width: 880px) {
  .hero-inner {
    flex-direction: column;
    align-items: center;
  }
  .hero-left, .hero-right {
    width: 100%;
    max-width: 480px;
  }
  .photo-frame img {
    height: 220px;
  }
  .card {
    width: 48%; /* two cards per row */
  }
}

/* For really small screens */
@media (max-width: 480px) {
  .card {
    width: 100%; /* full width cards */
  }
  .hero-card {
    padding: 16px;
    border-radius: 16px;
  }
  #videoModal {
    width: 90vw;
    height: 70vh;
  }
  #surpriseVideo {
    width: 100%;
    height: auto;
  }
}

/* Use relative widths for modal and videos */
#videoModal {
  width: 90vw;
  max-width: 330px;
  height: 70vh;
  max-height: 580px;
  border-radius: 12px;
}

/* Video fills modal */
#surpriseVideo {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 12px;
}

/* Make buttons bigger for mobile */
.small-btn {
  padding: 12px 16px;
  font-size: 1rem;
}

/* Increase tap targets on gift box */
.gift {
  width: 80vw;
  max-width: 160px;
  height: auto;
  aspect-ratio: 16 / 14;
  cursor: pointer;
}

  </style>
</head>
<body>
  <div class="page">
    <header>
      <div class="hero-card">
        <canvas id="confetti"></canvas>
        <div class="floating-layer" id="floating"></div>
        <h1 class="big-title">Happy Birthday</h1>
        <p class="subtitle">a little corner made with all my heart</p>
        <div class="hero-inner">
          <div class="hero-left">
            <div class="calligraphy-name" id="herName">[Her Name Here]</div>
            <div class="message" id="heroMsg">
              Happy Birthday, my dear pondati. Every day with you feels like the sweetest story to me ‚Äî today it's your chapter. Here's to laughter, cuddles, midnight talks, care, fights and forever.
            </div>
            <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap">
              <button class="small-btn" id="openLove">Open Secret Message ‚ù§Ô∏è</button>
              <button class="small-btn" id="toggleMusic">Play Music üéµ</button>
            </div>

            <div style="margin-top:18px">
              <div style="font-size:15px;color:rgba(59,47,51,0.65)">Countdown to next birthday</div>
              <div class="countdown" id="countdown">
                <div class="cd-block"><div id="cd-days">00</div><div style="font-size:12px">Days</div></div>
                <div class="cd-block"><div id="cd-hours">00</div><div style="font-size:12px">Hours</div></div>
                <div class="cd-block"><div id="cd-mins">00</div><div style="font-size:12px">Minutes</div></div>
                <div class="cd-block"><div id="cd-secs">00</div><div style="font-size:12px">Seconds</div></div>
              </div>
            </div>

          </div>
         <div class="hero-right">
  <div class="photo-frame" id="photoFrame">
    <img id="heroPhoto" 
         src="assets/placeholder1.jpg" 
         alt="our photo" />
  </div>
  <div class="photo-controls">
    <button class="small-btn" id="prevPhoto">‚óÄ</button>
    <button class="small-btn" id="nextPhoto">‚ñ∂</button>
  </div>
</div>


        </div>
      </div>
    </header>

    <section class="timeline">
      <div class="timeline-wrap">
        <h3 class="timeline-title">Timeline of Us</h3>
        <div class="timeline-list" id="timelineList">
          <!-- JS will inject events -->
        </div>
      </div>
    </section>

    <section class="reasons">
      <div class="timeline-wrap">
        <h3 class="timeline-title">Reasons I Love You</h3>
        <div class="reasons-grid" id="reasonsGrid">
          <!-- cards injected by JS -->
        </div>
      </div>
    </section>

    <section class="extras" style="width:100%;padding:24px 20px">
      <div class="timeline-wrap" style="display:grid;grid-template-columns:1fr 360px;gap:18px;align-items:start">
        <div>
          <h3 class="timeline-title">Little Games & Surprises</h3>
          <div style="display:flex;gap:12px;flex-wrap:wrap">
            <div class="card" style="width:calc(33% - 8px);min-width:180px">
              <div style="padding:12px"> <!-- mini quiz -->
                <div style="font-weight:600;margin-bottom:8px">Mini Love Quiz</div>
                <div style="font-size:13px;color:rgba(59,47,51,0.7)">Find out how well you remember our memories.</div>
                <button class="small-btn" id="startQuiz" style="margin-top:10px">Start Quiz</button>
              </div>
            </div>

            <div class="card" style="min-width:240px">
              <div style="padding:12px">
                <div style="font-weight:600;margin-bottom:8px">Draw a Heart</div>
                <div class="draw-area">
                  <canvas id="doodle" width="440" height="220"></canvas>
                  <div style="display:flex;gap:8px;margin-top:8px;justify-content:center"><button class="small-btn" id="clearDoodle">Clear</button><button class="small-btn" id="saveDoodle">Save</button></div>
                </div>
              </div>
            </div>

            <div class="card" style="min-width:100px">
  <div style="padding:12px">
    <div style="font-weight:600;margin-bottom:8px">Instructions</div>
    <div style="font-size:13px;color:rgba(59,47,51,0.7)">
     na vena draw pani u can save di try a heart üòå
    </div>
    
  </div>
</div>

<!-- Container for modal -->
<div id="puzzleOverlay" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);align-items:center;justify-content:center;z-index:9999;">
  <div style="background:#fff;padding:20px;border-radius:12px;display:flex;flex-direction:column;align-items:center;">
    <div id="puzzleContainer" style="width:360px;height:360px;"></div>
    <button id="closePuzzle" class="small-btn" style="margin-top:12px;">Close</button>
  </div>
</div>
          </div>
        </div>

        <div>
  <h3 class="timeline-title">Gift Box</h3>
  <div style="display:flex;justify-content:center;margin-top:6px">
    <div class="gift" id="giftBox" aria-hidden="false" style="cursor:pointer">
      <div class="lid"></div>
      <div class="ribbon"></div>
      <div class="surprise">Surprise inside! üéÄ</div>
    </div>
  </div>
</div>

<!-- Video Modal -->
<div id="videoModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.75);z-index:10000;align-items:center;justify-content:center;">
  <div style="position:relative;width:90%;max-width:640px;background:#000;border-radius:12px;overflow:hidden;">
    <video id="surpriseVideo" width="100%" controls>
      <source src="assets/surprise.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>
    <button id="closeVideo" style="position:absolute;top:8px;right:8px;background:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;">Close</button>
  </div>
</div>

        
      </div>
    </section>

    <!-- Secret message modal -->
    <div class="modal" id="modal">
      <div class="sheet">
        <h2 style="font-family:'Dancing Script',cursive">For You ‚Äî My Heart</h2>
        <p id="loveLetter" style="line-height:1.5">I just want to say,
You‚Äôre my favorite notification every day.</p>
        <div style="display:flex;justify-content:center;margin-top:10px"><button class="small-btn" id="closeModal">Close</button></div>
      </div>
    </div>

    <!-- audio (replace src with your file name) -->
    <audio id="bgMusic" loop src="assets/yendi.mp3"></audio>

    <section style="width:100%;padding:20px;"> 
      <div class="timeline-wrap">
        <h3 class="timeline-title">Forever & Always</h3>
        <div class="final-card">
          <div style="font-size:26px;font-family:'Great Vibes',cursive">Forever & Always</div>
          <div style="margin-top:8px"> <span id="infinity">‚àû</span></div>
          <div style="margin-top:10px;font-size:15px;opacity:0.85">You are my today and all of my tomorrows.</div>
        </div>
      </div>
    </section>

    <footer>
      <div style="text-align:center;color:rgba(59,47,51,0.6);font-size:13px">Made with love ‚Äî Abinanthanüíô.</div>
    </footer>

  </div>

  <script src="https://cdn.jsdelivr.net/gh/davidliang2008/jigsaw/dist/jigsaw.min.js"></script>


  <script>

    /* --------- Configuration: replace these with your real data --------- */
    const CONFIG = {
      herName: "Kiruthi",
      heroMessage: "Happy Birthday, my love. Every day with you feels like the sweetest story ‚Äî today it's your chapter. Here's to laughter, cuddles, midnight talks, and forever.",
      photos: [
        "assets/placeholder1.jpg",
        "assets/placeholder2.jpg",
        "assets/placeholder3.jpg"
      ],
      timeline: [
        {date:'2024-11-27',title:'First Msg',text:'As a Stanger',emoji:'üí¨'},
        {date:'2025-01-06',title:'First Call',text:'As a Junior',emoji:'üìû'},
        {date:'2025-04-06',title:'First Outing',text:'As a Girlfriend',emoji:'üöå'},
        {date:'2025-05-05',title:'First Bike Ride',text:'As a Wife',emoji:'üèçÔ∏è'},
        {date:'2025-05-12',title:'First Movie',text:'As a Partner in Crime',emoji:'üçø'},
        {date:'2025-05-28',title:'First Kiss',text:'As Everything',emoji:'üíã'}
        
      ],
      
      reasons:[
        {emoji:'üåü', text:"‡Æâ‡Æ©‡Øç ‡Æö‡Æø‡Æ∞‡Æø‡Æ™‡Øç‡Æ™‡ØÅ ‚Äî ‡Æé‡Æ©‡Øç ‡Æï‡Ææ‡ÆØ‡ÆÆ‡Øç ‡Æï‡Øä‡Æ£‡Øç‡Æü ‡Æ®‡Ææ‡Æü‡Øç‡Æï‡Æ≥‡Øà‡ÆØ‡ØÅ‡ÆÆ‡Øç ‡Æâ‡Æ∞‡ØÅ‡Æï‡Æö‡Øç ‡Æö‡ØÜ‡ÆØ‡Øç‡Æï‡Æø‡Æ±‡Æ§‡ØÅ."},
        {emoji:'üç∞', text:"‡Æâ‡Æ©‡Øç ‡Æá‡Æ©‡Æø‡Æ™‡Øç‡Æ™‡Øà ‡Æé‡Æ©‡Æï‡Øç‡Æï‡Ææ‡Æï ‡Æ™‡Æï‡Æø‡Æ∞‡ØÅ‡ÆÆ‡Øç ‡Æâ‡Æ©‡Øç ‡Æ™‡Æ¥‡Æï‡Øç‡Æï‡ÆÆ‡Øç."},
        {emoji:'üòç', text:"‡Æé‡Æ©‡Øç ‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øà ‡ÆÆ‡ØÜ‡Æ©‡Øç‡ÆÆ‡Øà‡ÆØ‡Ææ‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç ‡Æ™‡ØÜ‡Æ∞‡ØÅ‡ÆÆ‡Øà‡ÆØ‡Ææ‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç ‡Æâ‡Æö‡Øç‡Æö‡Æ∞‡Æø‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æâ‡Æ©‡Øç ‡Æï‡ØÅ‡Æ∞‡Æ≤‡Øç."},
        {emoji:'üòÅ', text:"‡Æµ‡ØÄ‡Æü‡ØÅ ‡Æ™‡Øã‡Æ≤ ‡Æâ‡Æ£‡Æ∞‡Øç‡Æ§‡Øç‡Æ§‡ØÅ‡ÆÆ‡Øç ‡Æâ‡Æ©‡Øç ‡ÆÖ‡Æ£‡Øà‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡Øç."},
        {emoji:'üòå', text:"‡Æ®‡Ææ‡ÆÆ‡Øç ‡Æö‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÅ ‡ÆÆ‡Øá‡Æ±‡Øç‡Æï‡Øä‡Æ≥‡Øç‡Æ≥‡ØÅ‡ÆÆ‡Øç ‡Æö‡Æø‡Æ±‡Æø‡ÆØ ‡Æö‡Ææ‡Æï‡Æö‡Æô‡Øç‡Æï‡Æ≥‡Øç."},
        {emoji:'', text:"‡Æ®‡Ææ‡ÆÆ‡Øç ‡Æö‡ØÜ‡Æ©‡Øç‡Æ± ‡Æ™‡Ææ‡Æ§‡Øà‡Æï‡Æ≥‡Øç ‚Äî ‡Æï‡Æ©‡Æµ‡Æø‡Æ©‡Øç ‡Æµ‡Æ∞‡Øà‡Æ™‡Æü‡ÆÆ‡Ææ‡Æï ‡ÆÆ‡Æ©‡Æ§‡Æø‡Æ≤‡Øç ‡Æ™‡Æ§‡Æø‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ.<br>Epdi nariya podalam edam pathathu nu stop panikurenüòå"}


      ],
      birthdayMonthDay: {month:8, day:10} // set her birthday month (1-12) and day
    }

    

    /* --------- SMALL HELPERS --------- */
    document.getElementById('herName').textContent = CONFIG.herName;
    document.getElementById('heroMsg').textContent = CONFIG.heroMessage;

    // photo carousel
    let idx = 1;
    const heroPhoto = document.getElementById('heroPhoto');
    function showPhoto(i){
      idx = (i + CONFIG.photos.length) % CONFIG.photos.length;
      heroPhoto.src = CONFIG.photos[idx];
    }
    document.getElementById('prevPhoto').onclick = ()=> showPhoto(idx-1);
    document.getElementById('nextPhoto').onclick = ()=> showPhoto(idx+1);
    showPhoto(0);

    

    // timeline
    const tl = document.getElementById('timelineList');
    CONFIG.timeline.forEach(ev=>{
      const d = new Date(ev.date);
      const node = document.createElement('div'); node.className='event';
      node.innerHTML = `<div class='icon'>${ev.emoji}</div><div class='body'><div style=\"font-weight:600\">${ev.title}</div><div class=\"date\">${d.toDateString()}</div><div style=\"margin-top:6px;opacity:0.95\">${ev.text}</div></div>`;
      tl.appendChild(node);
    })

    // reasons
    const rg = document.getElementById('reasonsGrid');
    CONFIG.reasons.forEach(r=>{
      const c = document.createElement('div'); c.className='card';
      c.innerHTML = `<div class='card-inner'><div class='card-front'><div class='card-illustr'>${r.emoji}</div><div class='reason-text'>${r.text}</div></div><div class='card-back'><div style=\"font-weight:700;font-size:16px;\">Why I love you</div><div style=\"margin-top:8px;\">${r.text}</div></div></div>`;
      rg.appendChild(c);
    })

    /* --------- Floating hearts & stickers --------- */
    const floating = document.getElementById('floating');
    function spawnHeart(){
      const el = document.createElement('div'); el.className='heart';
      const left = Math.random()*88 + '%';
      el.style.left = left; el.style.top = Math.random()*60 + '%';
      const s = 14 + Math.random()*36; el.style.width = s+'px'; el.style.height = s+'px'; el.style.opacity = 0.7 + Math.random()*0.3;
      floating.appendChild(el);
      el.animate([{transform:'translateY(0) scale(0.9)',opacity:el.style.opacity},{transform:'translateY(-60px) scale(1)',opacity:0}],{duration:3500+Math.random()*3000,iterations:1,easing:'cubic-bezier(.2,.9,.3,1)'}).onfinish = ()=> el.remove();
    }
    setInterval(spawnHeart,700);

    // confetti using canvas (simple)
    const confCanvas = document.getElementById('confetti');
    confCanvas.width = window.innerWidth; confCanvas.height = 420;
    const ctx = confCanvas.getContext('2d');
    let confettiPieces = [];
    function spawnConfetti(){
      for(let i=0;i<30;i++){
        confettiPieces.push({x:Math.random()*confCanvas.width,y:-20,w:6+Math.random()*8,h:8+Math.random()*8,vy:2+Math.random()*3,rot:Math.random()*360,vr:2+Math.random()*4,c:['#ff9ab7','#ffd1e6','#e9d6ff','#d9f0ff'][Math.floor(Math.random()*4)]});
      }
    }
    function draw(){
      ctx.clearRect(0,0,confCanvas.width,confCanvas.height);
      confettiPieces.forEach((p,idx)=>{
        ctx.save();ctx.translate(p.x,p.y);ctx.rotate(p.rot*Math.PI/180);
        ctx.fillStyle=p.c;ctx.fillRect(-p.w/2,-p.h/2,p.w,p.h);
        ctx.restore();p.y+=p.vy;p.rot+=p.vr*0.6; if(p.y>confCanvas.height+40) confettiPieces.splice(idx,1);
      })
      requestAnimationFrame(draw);
    }
    spawnConfetti(); draw(); setInterval(spawnConfetti,4000);

    // gift box interaction
    const gift = document.getElementById('giftBox');
const videoModal = document.getElementById('videoModal');
const surpriseVideo = document.getElementById('surpriseVideo');
const closeVideo = document.getElementById('closeVideo');

gift.addEventListener('click', () => {
  gift.classList.toggle('open');
  if (gift.classList.contains('open')) {
    
    
    for (let i = 0; i < 8; i++) spawnHeart();

    videoModal.style.display = 'flex';
    surpriseVideo.currentTime = 0;
    surpriseVideo.play();
  } else {
    surpriseVideo.pause();
    videoModal.style.display = 'none';
  }
});

closeVideo.addEventListener('click', () => {
  surpriseVideo.pause();
  videoModal.style.display = 'none';
  gift.classList.remove('open');
});


    function createPopup(msg){
      const div = document.createElement('div'); div.style.position='fixed';div.style.left='50%';div.style.top='22%';div.style.transform='translateX(-50%)';div.style.background='white';div.style.padding='14px 18px';div.style.borderRadius='10px';div.style.boxShadow='0 12px 40px rgba(0,0,0,0.12)';div.style.zIndex=120;div.innerHTML=`<div style=\"font-weight:600;margin-bottom:6px\">Surprise!</div><div>${msg}</div>`;
      document.body.appendChild(div);
      setTimeout(()=>div.style.opacity=1,20);
      setTimeout(()=>div.remove(),5000);
    }

    // modal & music
    const modal = document.getElementById('modal');
    document.getElementById('openLove').onclick = ()=>{
      modal.classList.add('open');
      const audio = document.getElementById('bgMusic'); audio.play().catch(()=>{});
    }
document.getElementById('closeModal').onclick = () => {
  modal.classList.remove('open');
  const audio = document.getElementById('bgMusic');
  if (!audio.paused) audio.pause();
};
    document.getElementById('toggleMusic').onclick = ()=>{
      const a = document.getElementById('bgMusic'); if(a.paused) a.play(); else a.pause();
    }

    // countdown
   function updateCountdown() {
  const now = new Date();
  const targetMonth = 8; // August
  const targetDay = 10;  // 10th

  // If today is after Aug 10, countdown to next year's Aug 10
  const year =
    now.getMonth() + 1 > targetMonth ||
    (now.getMonth() + 1 === targetMonth && now.getDate() >= targetDay)
      ? now.getFullYear() + 1
      : now.getFullYear();

  const target = new Date(year, targetMonth - 1, targetDay, 0, 0, 0);
  const diff = target - now;

  const days = Math.floor(diff / 86400000);
  const hours = Math.floor((diff % 86400000) / 3600000);
  const mins = Math.floor((diff % 3600000) / 60000);
  const secs = Math.floor((diff % 60000) / 1000);

  document.getElementById('cd-days').textContent = String(days).padStart(2, '0');
  document.getElementById('cd-hours').textContent = String(hours).padStart(2, '0');
  document.getElementById('cd-mins').textContent = String(mins).padStart(2, '0');
  document.getElementById('cd-secs').textContent = String(secs).padStart(2, '0');
}

setInterval(updateCountdown, 1000);
updateCountdown();


    // doodle canvas
    const doodle = document.getElementById('doodle'); const dctx = doodle.getContext('2d');
    let drawing=false; dctx.lineJoin='round'; dctx.lineCap='round'; dctx.lineWidth=4; dctx.strokeStyle='#ff6b9a';
    doodle.addEventListener('pointerdown',e=>{drawing=true;dctx.beginPath();dctx.moveTo(e.offsetX,e.offsetY);});
    doodle.addEventListener('pointermove',e=>{if(!drawing) return; dctx.lineTo(e.offsetX,e.offsetY); dctx.stroke();});
    doodle.addEventListener('pointerup',()=>drawing=false); document.getElementById('clearDoodle').onclick=()=>dctx.clearRect(0,0,doodle.width,doodle.height);
    document.getElementById('saveDoodle').onclick=()=>{
      const data = doodle.toDataURL('image/png'); const a=document.createElement('a');a.href=data;a.download='heart.png';a.click();
    }

    // mini quiz (simple) -- replace questions as needed
    document.getElementById('startQuiz').onclick = ()=>{
      const q = [{q:'Which transport we use most?',a:'bus'},{q:'Which colour i like most?',a:'blue'}];
      let score=0; for(let i=0;i<q.length;i++){ const ans = prompt(q[i].q); if(ans && ans.toLowerCase().includes(q[i].a)) score++; }
      alert('You scored '+score+" out of "+q.length+" ‚Äî cute! ‚ù§Ô∏è");
    }

  </script>
</body>
</html>
